define(function(require,t,i){function o(t,i){this.$element=$(t),this.options=$.extend({},o.DEFAULTS,$(t).data(),i),this.init()}var $=require("$"),s=require("../drag/xyzui-drag-sea");o.VERSION="1.0.0",o.DEFAULTS={title:"默认标题",width:400,height:"auto",position:["center","center"],autoOpen:!1,button:null,template:'<div class="hc-dialog"><div class="hc-dialogHd"><a href="javascript:;" class="hc-close fa fa-times" title="关闭"></a><h4></h4></div><div class="hc-dialogBd"></div><div class="hc-dialogFt"></div></div>'},o.prototype.init=function(){this.title=this.options.title,this.width=this.options.width,this.height=this.options.height,this.position=this.options.position,this.autoOpen=this.options.autoOpen,this.button=this.options.button,this.template=this.options.template,this.creatDom(),this.attr(),this.event()},o.prototype.creatDom=function(){if(this.$dialogObj=$(this.template).appendTo($("body")),this.$dialogObj.find(".hc-dialogBd").append(this.$element.show()),this.button){this.$dialogObj.addClass("hc-hasFooter");for(var t="",i=0;i<this.button.length;i++)t+=1==this.button[i].recommend?'<button type="button" class="ue-button recommend">'+this.button[i].label+"</button>":'<button type="button" class="ue-button">'+this.button[i].label+"</button>";this.$dialogObj.find(".hc-dialogFt").append(t)}else this.$dialogObj.find(".hc-dialogFt").remove()},o.prototype.attr=function(){this.setWidth(this.width),this.setHeight(this.height),this.$header=this.setTitle(this.title),this.setPosition(this.position)},o.prototype.event=function(){var t=this;this.button&&this.buttonEvent(),this.autoOpen&&this.open();new s(this.$dialogObj,{handle:$(".hc-dialogHd h4")});this.$dialogObj.find(".hc-dialogHd .hc-close").on("click",function(){t.$dialogObj.hide()}),$(window).resize(function(){t.setPosition(t.position)})},o.prototype.buttonEvent=function(){var t=this;this.$dialogObj.on("click",".hc-dialogFt .ue-button",function(){t.button[$(this).index()].callback.call(t.$element,t.$element)})},o.prototype.setPosition=function(t){this.position=t;var i,o;switch(this.position[0]){case"center":i=($(window).width()-this.$dialogObj.outerWidth())/2;break;case"left":i=0;break;case"right":i=$(window).width()-this.$dialogObj.outerWidth();break;default:i=this.position[0]}switch(this.position[1]){case"center":o=($(window).height()-this.$dialogObj.outerHeight())/2;break;case"top":o=0;break;case"bottom":o=$(window).height()-this.$dialogObj.outerHeight();break;default:o=this.position[1]}this.$dialogObj.css({left:i,top:o})},o.prototype.setTitle=function(t){this.$dialogObj.find(".hc-dialogHd h4").html(t)},o.prototype.setWidth=function(t){this.$dialogObj.css("width",t),this.setPosition(this.position)},o.prototype.setHeight=function(t){this.$dialogObj.css("height",t),this.setPosition(this.position)},o.prototype.open=function(){this.$dialogObj.show()},o.prototype.close=function(){this.$dialogObj.hide()},o.prototype.setProp=function(t,i){var o=this;this[t].apply(o,[i])},i.exports=o});