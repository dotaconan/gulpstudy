define(function(require,t,i){var $=require("$"),a=require("underscore"),s=function(t){a.bindAll(this),this.options=t,this.$summary=$(t.summary),this.$detail=$(t.detail),this.$summary.tap(this.handleSummaryTap)};return s.prototype={constructor:s,handleSummaryTap:function(){var t=this.isExpand();if(this.options.speed){if(t){var i=0;this.$detail.css("height",this.detailHeight())}else var i=this.detailHeight();this.$detail.animate({height:i},this.options.speed,"ease")}else this.$detail.toggle();this.options.callback&&this.options.callback.call(this,!t),this.$summary.data("expand",!t)},isExpand:function(){return!!this.$summary.data("expand")},expand:function(){this.isExpand()||this.handleSummaryTap()},detailHeight:function(){var t=0;return this.$detail.children().each(function(){t+=$(this).offset().height}),t}},s});