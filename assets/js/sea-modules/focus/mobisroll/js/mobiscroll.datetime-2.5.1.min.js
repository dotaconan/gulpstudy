define(function(require,e,t){var $=require("$");return function($){$("head").append('<link rel="stylesheet" href="/assets/js/sea-modules/focus/mobisroll/css/mobiscroll.core-2.5.2.css"><link rel="stylesheet" href="/assets/js/sea-modules/focus/mobisroll/css/mobiscroll.animation-2.5.2.css"><link rel="stylesheet" href="/assets/js/sea-modules/focus/mobisroll/css/mobiscroll.android-ics-2.5.2.css">');var e=$.mobiscroll,t=new Date,a={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:t.getFullYear()-100,endYear:t.getFullYear()+1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},r=function(t){function r(e,t,a){return void 0!==b[t]?+e[b[t]]:void 0!==a?a:A[k[t]]?A[k[t]]():k[t](A)}function s(e,t){return Math.floor(e/t)*t}function n(e){var t=e.getHours();return t=N&&t>=12?t-12:t,s(t,H)}function o(e){return s(e.getMinutes(),C)}function i(e){return s(e.getSeconds(),O)}function c(e){return Y&&e.getHours()>11?1:0}function u(e){var t=r(e,"h",0);return new Date(r(e,"y"),r(e,"m"),r(e,"d",1),r(e,"a")?t+12:t,r(e,"i",0),r(e,"s",0))}var m,d=$(this),h={};if(d.is("input")){switch(d.attr("type")){case"date":m="yy-mm-dd";break;case"datetime":m="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":m="yy-mm-ddTHH:ii:ss";break;case"month":m="yy-mm",h.dateOrder="mmyy";break;case"time":m="HH:ii:ss"}var l=d.attr("min"),f=d.attr("max");l&&(h.minDate=e.parseDate(m,l)),f&&(h.maxDate=e.parseDate(m,f))}var y,g,p=$.extend({},a,h,t.settings),v=0,D=[],w=[],b={},k={y:"getFullYear",m:"getMonth",d:"getDate",h:n,i:o,s:i,a:c},x=p.preset,M=p.dateOrder,T=p.timeWheels,F=M.match(/D/),Y=T.match(/a/i),N=T.match(/h/),S="datetime"==x?p.dateFormat+p.separator+p.timeFormat:"time"==x?p.timeFormat:p.dateFormat,A=new Date,H=p.stepHour,C=p.stepMinute,O=p.stepSecond,J=p.minDate||new Date(p.startYear,0,1),W=p.maxDate||new Date(p.endYear,11,31,23,59,59);if(t.settings=p,m=m||S,x.match(/date/i)){$.each(["y","m","d"],function(e,t){y=M.search(new RegExp(t,"i")),y>-1&&w.push({o:y,v:t})}),w.sort(function(e,t){return e.o>t.o?1:-1}),$.each(w,function(e,t){b[t.v]=e});var I={};for(g=0;3>g;g++)if(g==b.y){v++,I[p.yearText]={};var j=J.getFullYear(),R=W.getFullYear();for(y=j;R>=y;y++)I[p.yearText][y]=M.match(/yy/i)?y:(y+"").substr(2,2)}else if(g==b.m)for(v++,I[p.monthText]={},y=0;12>y;y++){var E=M.replace(/[dy]/gi,"").replace(/mm/,9>y?"0"+(y+1):y+1).replace(/m/,y+1);I[p.monthText][y]=E.match(/MM/)?E.replace(/MM/,'<span class="dw-mon">'+p.monthNames[y]+"</span>"):E.replace(/M/,'<span class="dw-mon">'+p.monthNamesShort[y]+"</span>")}else if(g==b.d)for(v++,I[p.dayText]={},y=1;32>y;y++)I[p.dayText][y]=M.match(/dd/i)&&10>y?"0"+y:y;D.push(I)}if(x.match(/time/i)){for(w=[],$.each(["h","i","s","a"],function(e,t){e=T.search(new RegExp(t,"i")),e>-1&&w.push({o:e,v:t})}),w.sort(function(e,t){return e.o>t.o?1:-1}),$.each(w,function(e,t){b[t.v]=v+e}),I={},g=v;v+4>g;g++)if(g==b.h)for(v++,I[p.hourText]={},y=0;(N?12:24)>y;y+=H)I[p.hourText][y]=N&&0==y?12:T.match(/hh/i)&&10>y?"0"+y:y;else if(g==b.i)for(v++,I[p.minuteText]={},y=0;60>y;y+=C)I[p.minuteText][y]=T.match(/ii/)&&10>y?"0"+y:y;else if(g==b.s)for(v++,I[p.secText]={},y=0;60>y;y+=O)I[p.secText][y]=T.match(/ss/)&&10>y?"0"+y:y;else if(g==b.a){v++;var q=T.match(/A/);I[p.ampmText]={0:q?"AM":"am",1:q?"PM":"pm"}}D.push(I)}return t.setDate=function(e,t,a,r){var s;for(s in b)this.temp[b[s]]=e[k[s]]?e[k[s]]():k[s](e);this.setValue(!0,t,a,r)},t.getDate=function(e){return u(e)},{button3Text:p.showNow?p.nowText:void 0,button3:p.showNow?function(){t.setDate(new Date,!1,.3,!0)}:void 0,wheels:D,headerText:function(a){return e.formatDate(S,u(t.temp),p)},formatResult:function(t){return e.formatDate(m,u(t),p)},parseValue:function(t){var a,r=new Date,s=[];try{r=e.parseDate(m,t,p)}catch(n){}for(a in b)s[b[a]]=r[k[a]]?r[k[a]]():k[a](r);return s},validate:function(e,a){var n=t.temp,o={y:J.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},i={y:W.getFullYear(),m:11,d:31,h:s(N?11:23,H),i:s(59,C),s:s(59,O),a:1},c=!0,u=!0;$.each(["y","m","d","a","h","i","s"],function(t,a){if(void 0!==b[a]){var s,m,d=o[a],h=i[a],l=31,f=r(n,a),y=$(".dw-ul",e).eq(b[a]);if("d"==a&&(s=r(n,"y"),m=r(n,"m"),l=32-new Date(s,m,32).getDate(),h=l,F&&$(".dw-li",y).each(function(){var e=$(this),t=e.data("val"),a=new Date(s,m,t).getDay(),r=M.replace(/[my]/gi,"").replace(/dd/,10>t?"0"+t:t).replace(/d/,t);$(".dw-i",e).html(r.match(/DD/)?r.replace(/DD/,'<span class="dw-day">'+p.dayNames[a]+"</span>"):r.replace(/D/,'<span class="dw-day">'+p.dayNamesShort[a]+"</span>"))})),c&&J&&(d=J[k[a]]?J[k[a]]():k[a](J)),u&&W&&(h=W[k[a]]?W[k[a]]():k[a](W)),"y"!=a){var g=$(".dw-li",y).index($('.dw-li[data-val="'+d+'"]',y)),v=$(".dw-li",y).index($('.dw-li[data-val="'+h+'"]',y));$(".dw-li",y).removeClass("dw-v").slice(g,v+1).addClass("dw-v"),"d"==a&&$(".dw-li",y).removeClass("dw-h").slice(l).addClass("dw-h")}if(d>f&&(f=d),f>h&&(f=h),c&&(c=f==d),u&&(u=f==h),p.invalid&&"d"==a){var D=[];if(p.invalid.dates&&$.each(p.invalid.dates,function(e,t){t.getFullYear()==s&&t.getMonth()==m&&D.push(t.getDate()-1)}),p.invalid.daysOfWeek){var w,x=new Date(s,m,1).getDay();$.each(p.invalid.daysOfWeek,function(e,t){for(w=t-x;l>w;w+=7)w>=0&&D.push(w)})}p.invalid.daysOfMonth&&$.each(p.invalid.daysOfMonth,function(e,t){t=(t+"").split("/"),t[1]?t[0]-1==m&&D.push(t[1]-1):D.push(t[0]-1)}),$.each(D,function(e,t){$(".dw-li",y).eq(t).removeClass("dw-v")})}n[b[a]]=f}})},methods:{getDate:function(e){var t=$(this).mobiscroll("getInst");return t?t.getDate(e?t.temp:t.values):void 0},setDate:function(e,t,a,r){return void 0==t&&(t=!1),this.each(function(){var s=$(this).mobiscroll("getInst");s&&s.setDate(e,t,a,r)})}}}};$.each(["date","time","datetime"],function(t,a){e.presets[a]=r,e.presetShort(a)}),e.formatDate=function(e,t,r){if(!t)return null;var s,n=$.extend({},a,r),o=function(t){for(var a=0;s+1<e.length&&e.charAt(s+1)==t;)a++,s++;return a},i=function(e,t,a){var r=""+t;if(o(e))for(;r.length<a;)r="0"+r;return r},c=function(e,t,a,r){return o(e)?r[t]:a[t]},u="",m=!1;for(s=0;s<e.length;s++)if(m)"'"!=e.charAt(s)||o("'")?u+=e.charAt(s):m=!1;else switch(e.charAt(s)){case"d":u+=i("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),n.dayNamesShort,n.dayNames);break;case"o":u+=i("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":u+=i("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),n.monthNamesShort,n.monthNames);break;case"y":u+=o("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"h":var d=t.getHours();u+=i("h",d>12?d-12:0==d?12:d,2);break;case"H":u+=i("H",t.getHours(),2);break;case"i":u+=i("i",t.getMinutes(),2);break;case"s":u+=i("s",t.getSeconds(),2);break;case"a":u+=t.getHours()>11?"pm":"am";break;case"A":u+=t.getHours()>11?"PM":"AM";break;case"'":o("'")?u+="'":m=!0;break;default:u+=e.charAt(s)}return u},e.parseDate=function(e,t,r){var s=new Date;if(!e||!t)return s;t="object"==typeof t?t.toString():t+"";var n,o=$.extend({},a,r),i=o.shortYearCutoff,c=s.getFullYear(),u=s.getMonth()+1,m=s.getDate(),d=-1,h=s.getHours(),l=s.getMinutes(),f=0,y=-1,g=!1,p=function(t){var a=n+1<e.length&&e.charAt(n+1)==t;return a&&n++,a},v=function(e){p(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,r=new RegExp("^\\d{1,"+a+"}"),s=t.substr(b).match(r);return s?(b+=s[0].length,parseInt(s[0],10)):0},D=function(e,a,r){var s,n=p(e)?r:a;for(s=0;s<n.length;s++)if(t.substr(b,n[s].length).toLowerCase()==n[s].toLowerCase())return b+=n[s].length,s+1;return 0},w=function(){b++},b=0;for(n=0;n<e.length;n++)if(g)"'"!=e.charAt(n)||p("'")?w():g=!1;else switch(e.charAt(n)){case"d":m=v("d");break;case"D":D("D",o.dayNamesShort,o.dayNames);break;case"o":d=v("o");break;case"m":u=v("m");break;case"M":u=D("M",o.monthNamesShort,o.monthNames);break;case"y":c=v("y");break;case"H":h=v("H");break;case"h":h=v("h");break;case"i":l=v("i");break;case"s":f=v("s");break;case"a":y=D("a",["am","pm"],["am","pm"])-1;break;case"A":y=D("A",["am","pm"],["am","pm"])-1;break;case"'":p("'")?w():g=!0;break;default:w()}if(100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=("string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10))?0:-100)),d>-1)for(u=1,m=d;;){var k=32-new Date(c,u-1,32).getDate();if(k>=m)break;u++,m-=k}h=-1==y?h:y&&12>h?h+12:y||12!=h?h:0;var x=new Date(c,u-1,m,h,l,f);if(x.getFullYear()!=c||x.getMonth()+1!=u||x.getDate()!=m)throw"Invalid date";return x}}($),$});